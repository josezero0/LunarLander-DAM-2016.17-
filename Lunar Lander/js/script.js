var altura=10;var velocidad=0;var gravedad=1.622;var aceleracion=gravedad;var dt=0.016683;var fuel=100;var timer=null;var timerFuel=null;var limiteVelocidad=1.5;var sinFuel=false;var sinAltura=false;var cohete=null;var endGame=false;var pausa=false;window.onload=function(){document.getElementById("showm").onclick=function(){document.getElementsByClassName("c")[0].style.display="block";stop();pausa=true;};document.getElementById("hidem").onclick=function(){document.getElementsByClassName("c")[0].style.display="none";start();pausa=false;};document.onclick=function(){if(aceleracion===gravedad){motorOn();}else{motorOff();}};document.onkeydown=motorOn;document.onkeyup=motorOff;start();};function start(){timer=setInterval(function(){moverNave();},dt*1000);};function stop(){clearInterval(timer);};function again(){altura=10;velocidad=0;fuel=100;aceleracion=-gravedad;timer=null;timerFuel=null;sinFuel=false;sinAltura=false;pausa=false;cohete="img/cohete0.png";endGame=false;setAltura();setAlturaTop();setFuel();setVelocidad();setCohete();document.getElementsByClassName("d")[0].style.display="none";start();} function moverNave(){if(sinAltura===true){return;} velocidad+=aceleracion*dt;setVelocidad();altura+=velocidad*dt;setAltura();if(sinAltura===false){setAlturaTop();}else{finJuego();}} function finJuego(){endGame=true;document.getElementsByClassName("d")[0].style.display="block";if(velocidad>limiteVelocidad){cohete="img/cohete2.png";setCohete();document.getElementsByClassName("lose")[0].style.display="block";document.getElementsByClassName("lose")[1].style.display="block";}else{document.getElementsByClassName("win")[0].style.display="block";document.getElementsByClassName("win")[1].style.display="block";} stop();} function motorOn(){if(endGame===true||sinFuel===true){return;} aceleracion=-gravedad;if(timerFuel===null){timerFuel=setInterval(function(){actualizarFuel();},10);}};function motorOff(){if(endGame===true){return;} cohete="img/cohete0.png";setCohete();aceleracion=gravedad;clearInterval(timerFuel);timerFuel=null;};function actualizarFuel(){if(sinFuel===true||sinAltura===true||pausa===true){return;} cohete="img/cohete1.png";setCohete();fuel-=0.1;setFuel();};function setFuel(){document.getElementById("fuel").innerHTML=fuel.toFixed(2);if(fuel<=0){document.getElementById("fuel").innerHTML=0;sinFuel=true;}};function setAltura(){document.getElementById("altura").innerHTML=(70-altura).toFixed(2);if(altura>=70){document.getElementById("altura").innerHTML=0;sinAltura=true;}};function setAlturaTop(){document.getElementById("nave").style.top=altura+"%";} function setVelocidad(){document.getElementById("velocidad").innerHTML=velocidad.toFixed(2);};function setCohete(){document.getElementById("inave").src=cohete;};function tratarPausa(){if(pausa===true){pausa=false;start();}else{pausa=true;stop();}}
